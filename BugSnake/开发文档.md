# 1.分析需求

需要

一个二维数组地图，map，存储地图状态

3个值，空，墙，和蛇身，和食物，分别0123表示



一个三维数组，蛇，snake，用来存储蛇身坐标

蛇身每个点的坐标用二维数组表示

一个全局变量，表示此时游戏模式

一个全局变量，表示此时方向，开局可随机可设定

***

一个函数move，需要一个方法带参数，参数四个值

分别对应四种方向的处理，来表示蛇的运动



一个方法，dead，一个参数代表方向，判断是否死亡，如果蛇头按照输入方向的下一位是墙壁或者自己的身体，死亡。这个函数在**move的开始部分**调用，如果这个函数成立，终止游戏。



一个键盘事件keydown，四个函数，每个函数分别改变全局变量的值，然后立即调用 move方法，输入全局变量。不可改变与当前相反的方向



一个果实生成函数addFood，用来生成果实

一个渲染方法Render，将snake数组和果实渲染到页面上，在***move方法的最后调用***



一个初始化地图函数，生成合适大小地图，生成蛇身，生成



一个计时器，游戏开始，定时调用move方法

全部完成。



还有食物生成方法，每次食物被吃掉会调用方法生成一个食物



重头戏是move方法

move内容：

输入参数

参数是全局变量，代表此时方向

然后，调用dead方法，判断此时的方向，下一格是否有墙或蛇身，若有，死亡。游戏结束

若无，继续，进行坐标更换，根据方向全局变量direction来判断该往哪个方向，将头部的位置往正确的方向移动一格，snake三维数组的第一位等于新，其余位数增进一位

若前方是果子，则最后不消除，若不是，则消除



初步设计完成



